(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{352:function(a,t,s){"use strict";s.r(t);var e=s(17),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"standalone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#standalone","aria-hidden":"true"}},[a._v("#")]),a._v(" Standalone")]),a._v(" "),s("h3",{attrs:{id:"create-it-in-conf-zoo-cfg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-it-in-conf-zoo-cfg","aria-hidden":"true"}},[a._v("#")]),a._v(" create it in conf/zoo.cfg:")]),a._v(" "),s("div",{staticClass:"language-properties line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("tickTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dataDir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/var/lib/zookeeper")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("clientPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2181")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"start-zookeeper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-zookeeper","aria-hidden":"true"}},[a._v("#")]),a._v(" start ZooKeeper")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("bin/zkServer.sh start\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"connecting-to-zookeeper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connecting-to-zookeeper","aria-hidden":"true"}},[a._v("#")]),a._v(" Connecting to ZooKeeper")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("bin/zkCli.sh -server 127.0.0.1:2181\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"running-replicated-zookeeper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-replicated-zookeeper","aria-hidden":"true"}},[a._v("#")]),a._v(" Running Replicated ZooKeeper")]),a._v(" "),s("p",[a._v("For replicated mode, a minimum of three servers are required, and it is strongly recommended that you have an odd number of servers")]),a._v(" "),s("h3",{attrs:{id:"create-it-in-conf-zoo-cfg-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-it-in-conf-zoo-cfg-2","aria-hidden":"true"}},[a._v("#")]),a._v(" create it in conf/zoo.cfg")]),a._v(" "),s("div",{staticClass:"language-properties line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[a._v("\n\n结点1\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("tickTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dataDir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/var/lib/zookeeper")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("clientPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2181")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("initLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("5")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("syncLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.85.134:2888:3888")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.85.135:2888:3888")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("0.0.0.0:2888:3888")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("1 > /var/lib/zookeeper/myid")]),a._v("\n\n\n\n结点2\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("tickTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("200")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dataDir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/var/lib/zookeeper")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("clientPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2181")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("initLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("5")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("syncLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.85.134:2888:3888")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("0.0.0.0:2888:3888")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.85.136:2888:3888")]),a._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2 > /var/lib/zookeeper/myid")]),a._v("\n\n\n结点3\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("tickTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dataDir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/var/lib/zookeeper")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("clientPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2181")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("initLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("5")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("syncLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.85.134:2888:3888")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.85.135:2888:3888")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("server.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("0.0.0.0:2888:3888")]),a._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("3 > /var/lib/zookeeper/myid")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br")])]),s("blockquote",[s("p",[a._v("注意服务器防火墙是否开启")])]),a._v(" "),s("h4",{attrs:{id:"cannot-open-channel-to-2-at-election-address-192-168-85-135-3888"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cannot-open-channel-to-2-at-election-address-192-168-85-135-3888","aria-hidden":"true"}},[a._v("#")]),a._v(" Cannot open channel to 2 at election address /192.168.85.135:3888")]),a._v(" "),s("p",[a._v("initLimit=5\nsyncLimit=2\nserver.1=192.168.85.144:2888:3888\nserver.2=192.168.85.145:2888:3888\nserver.3=192.168.85.146:2888:3888")]),a._v(" "),s("p",[s("code",[a._v("解决")]),a._v("：   must specify 0.0.0.0 for the current node")])])}),[],!1,null,null,null);t.default=n.exports}}]);